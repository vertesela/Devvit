syntax = "proto3";

package devvit.reddit.v2alpha;

import "devvit/reddit/v2alpha/flair.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/reddit/v2alpha";
option java_package = "com.reddit.devvit.reddit.v2alpha";

enum CrowdControlLevel {
  OFF = 0;
  LENIENT = 1;
  MEDIUM = 2;
  STRICT = 3;
}

enum DistinguishType {
  NULL_VALUE = 0;
  ADMIN = 1;
  GOLD = 2;
  GOLD_AUTO = 3;
  YES = 4;
  SPECIAL = 5;
}

message PostV2 {
  string id = 1;
  string title = 2;
  string selftext = 3; // rename to text?
  bool nsfw = 4;
  string author_id = 5;
  CrowdControlLevel crowd_control_level = 6;
  int32 num_reports = 7;
  bool is_gallery = 8;
  bool is_meta = 9;
  int64 created_at = 10;
  bool is_approved = 11;
  bool is_archived = 12;
  DistinguishType distinguished = 13;
  bool ignore_reports = 14;
  bool is_self = 15;
  bool is_video = 16;
  bool is_locked = 17;
  bool is_spoiler = 18;
  string subreddit_id = 19;
  int32 upvotes = 20;
  int32 downvotes = 21;
  string url = 22;
  bool is_sticky = 23;
  LinkFlairV2 link_flair = 24;
  UserFlairV2 author_flair = 25;
  bool spam = 26;
  bool deleted = 27;
  string language_code = 28;
  int64 updated_at = 29;
  int32 gildings = 30;
  int32 score = 31;
  int32 num_comments = 32;
  string thumbnail = 33;
  MediaObject media = 34;
  string crosspost_parent_id = 35;
  string permalink = 36;
  bool is_poll = 37;
  bool is_promoted = 38;
  bool is_multi_media = 39;
}

message Oembed {
  string type = 1;
  string version = 2;
  string title = 3;
  string description = 4;
  string author_name = 5;
  string author_url = 6;
  string provider_name = 7;
  string provider_url = 8;
  string thumbnail_url = 9;
  int32 thumbnail_width = 10;
  int32 thumbnail_height = 11;
  string html = 12;
  int32 width = 13;
  int32 height = 14;
}
message RedditVideo {
  int32 bitrate_kbps = 1;
  string fallback_url = 2;
  int32 height = 3;
  int32 width = 4;
  string scrubber_media_url = 5;
  string dash_url = 6;
  int64 duration = 7;
  string hls_url = 8;
  bool is_gif = 9;
  string transcoding_status = 10;
}

message MediaObject {
  string type = 1;
  Oembed oembed = 2;
  RedditVideo reddit_video = 3;
}
