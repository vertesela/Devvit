syntax = "proto3";

package devvit.dev_portal.app.info;

import "devvit/dev_portal/app/categories/categories.proto";
import "devvit/dev_portal/reddit/redditor.proto";
import "google/protobuf/timestamp.proto";
import "devvit/dev_portal/app_version/info/app_version_info.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/devportal/app/info";

// This exists in its own file to prevent circular dependency imports between
// app and app_version.

// Contains the details of an app. For field documentation, refer to the Prisma schema.
message AppInfo {
  string id = 1;
  string slug = 2;
  string name = 3;
  string description = 4;
  devvit.dev_portal.reddit.Redditor app_account = 15;

  bool is_nsfw = 5;
  bool is_delisted = 6;
  bool is_first_party = 13;
  bool is_archived = 14;

  google.protobuf.Timestamp created_at = 7;
  devvit.dev_portal.reddit.Redditor owner = 8;
  repeated categories.Categories categories = 9;
  AppStats stats = 10;
  string terms_and_conditions = 11;
  string privacy_policy = 12;

  // Last number is 15, app_account; next number is 16
  devvit.dev_portal.app_version.info.ComputePool default_pool = 16;
}

message MultipleAppInfos {
  repeated AppInfo apps = 1;
}

// Contains stats about an app.
message AppStats {
  // How many times/locations is this app currently installed in?
  int32 install_count = 1;
}
