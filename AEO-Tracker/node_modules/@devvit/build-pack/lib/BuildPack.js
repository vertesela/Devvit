import fs from 'node:fs';
export class BuildPack {
}
BuildPack.DevvitModuleEntryPoint = 'main.ts';
export function formatLogs(logs) {
    return logs.map(formatLog).join('\n');
}
export function formatLog(log) {
    if (log.detail == null)
        return log.text;
    return [
        `${log.text}; line ${log.detail.line}, column ${log.detail.column} in file ${log.detail.filename}:`,
        log.detail.text,
        log.detail.suggestion,
    ].join('\n');
}
export function getModuleEntrypoint(filename) {
    // Support TSX files and give them priority is they exist.
    // This is used to power UI (aka BlockKit)
    // TS needs to have the `.tsx` extension separately because JSX has some
    // minor syntax ambiguities with angle brackets for jsx vs type assertions
    const expectedName = `${filename}/${BuildPack.DevvitModuleEntryPoint}`;
    const tsxName = `${expectedName}x`;
    if (fs.existsSync(tsxName)) {
        return tsxName;
    }
    return expectedName;
}
