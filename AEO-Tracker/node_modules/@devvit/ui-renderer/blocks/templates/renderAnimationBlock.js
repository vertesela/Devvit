import { nothing } from 'lit';
import { getTemplateRenderingStrategy } from '@reddit/faceplate-ui/faceplateUIConfig.js';
import { defaultClasses, defaultStyles, onClickAction } from '../attributes.js';
import { classMap } from './util.js';
export function renderAnimationBlock(block, ctx) {
    const { html, styleMap, ifDefined } = getTemplateRenderingStrategy();
    if (!block.config?.animationConfig) {
        console.error('Invalid block: Animation missing AnimationConfig');
        return nothing;
    }
    const { url, type, width, height, autoplay, direction, loop, loopMode, speed } = block.config.animationConfig;
    const classes = {
        ...defaultClasses(block, ctx),
    };
    const styles = {
        ...defaultStyles(block, ctx),
    };
    const onClick = onClickAction(block, ctx);
    return html `<devvit-animation-player
    class="${classMap(classes)}"
    style="${styleMap(styles)}"
    src="${url}"
    type="${type}"
    imageWidth="${width}"
    imageHeight="${height}"
    direction="${ifDefined(direction)}"
    loopMode="${ifDefined(loopMode)}"
    speed="${ifDefined(speed)}"
    ?autoplay="${autoplay}"
    ?loop="${loop}"
    @click="${ifDefined(onClick)}"
    data-debug-block-type="animation"
  ></devvit-animation-player>`;
}
