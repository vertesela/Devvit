import { nothing } from 'lit';
import { getTemplateRenderingStrategy } from '@reddit/faceplate-ui/faceplateUIConfig.js';
import { defaultClasses, defaultStyles, iconSizeClass, onClickAction, textColorClass, textColorStyle, } from '../attributes.js';
import { classMap, resolveIcon } from './util.js';
import { resolveStyleColor } from './color.js';
export function renderIconBlock(block, ctx) {
    const { html, styleMap, ifDefined } = getTemplateRenderingStrategy();
    if (!block.config?.iconConfig) {
        console.error('Invalid block: Icon missing IconConfig');
        return nothing;
    }
    const { icon, size, color, colors } = block.config.iconConfig;
    const classes = {
        ...defaultClasses(block, ctx),
        ...textColorClass(),
        ...iconSizeClass(size),
    };
    const styles = {
        ...defaultStyles(block, ctx),
        ...textColorStyle(colors, color ?? 'neutral-content'),
    };
    const onClick = onClickAction(block, ctx);
    return html `<div
    class="${classMap(classes)}"
    style="${styleMap(styles)}"
    @click="${ifDefined(onClick)}"
    data-debug-block-type="icon"
    ${resolveStyleColor(styles, 'color')}
  >
    ${resolveIcon(icon)}
  </div>`;
}
