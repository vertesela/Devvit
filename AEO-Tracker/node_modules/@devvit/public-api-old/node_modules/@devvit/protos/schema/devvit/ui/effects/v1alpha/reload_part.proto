syntax = "proto3";

package devvit.ui.effects.v1alpha;

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/ui/effects/v1alpha";
option java_package = "com.reddit.devvit.ui.effects.v1alpha";

// Request the client to reload some or all of the content in a particular post
message ReloadPartEffect {
  // Reload listing
  // e.g.: an action has added or removed a post
  message Subreddit {
    // Subreddit Thing ID (t5)
    string subreddit_id = 1;
  }

  // Reload post contents
  // e.g.: an action has altered the post contents or parts of the comment tree
  message Post {
    // Post Thing ID (t3)
    string post_id = 1;

    // If true reload post body
    optional bool body = 2;

    // If true reload entire comment tree
    optional bool comments = 3;
  }

  // Reload a comment and/or comment tree
  // e.g.: an action has altered or replied to a comment
  message Comment {
    // Parent Post Thing ID (t3)
    string post_id = 1;

    // Comment Thing ID (t1)
    string comment_id = 2;

    // If true, reload the entire comment tree, not just the contents of the target comment
    optional bool replies = 3;
  }

  oneof part {
    Subreddit subreddit = 1;
    Post post = 2;
    Comment comment = 3;
  }
}
